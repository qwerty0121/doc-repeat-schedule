# スケジュール繰り返し機能 メモ

## 繰り返し機能の仕様検討

* 用語の定義
  * 繰り返し期間
    * 日付を繰り返す期間
    * この期間内の中の日付が繰り返し対象となる。
  * 繰り返し開始日
    * 繰り返し期間の開始日
  * 経過日数
    * 繰り返し開始日から対象日までに経過した日数のことを指す
    * 繰り返し開始日の経過日数は0となる
  * 経過週数
    * 繰り返し開始日から対象日までの経過日数を7で割った際の商を指す
    * 繰り返し開始日の経過週数は0となる
  * 週
    * 日付を週の始まりの曜日で区切ったものを指す  
    * ある日付の週は、その日付以前の日付の内、曜日が週の始まりである直近の日付からその日付の6日後の日付までの日付を含む
  * n日ごと
    * 繰り返し開始日から対象日までの経過日数をnで割った際の余りが0である日付を指す
  * 指定曜日
    * 指定曜日に含まれている曜日の日付を指す
  * n週ごと
    * 経過週数をnで割った際の余りが0である日付を指す
  * nヶ月ごと
    * 繰り返し開始日の月から対象日の月までの経過月数をnで割った際の余りが0である月の日付を指す
  * 指定日にち
    * 日にちが指定日にちに含まれている日付を指す。
  * m週目
    * 対象月においてm番目の週を指す
  * 最終週
    * 対象月において最後の週を指す
  * m回目の指定曜日
    * 対象日と曜日が一致する対象月の日付の内、m番目の日付であり、対象日の曜日が指定曜日に含まれている日付を指す。
  * 最終の指定曜日
    * 対象日と曜日が一致する対象月の日付の内、最後の日付であり、対象日の曜日が指定曜日に含まれている日付を指す。
* 繰り返しの種別
  * 日
    * n日ごと
  * 週
    * n週ごと 指定曜日
  * 月
    * nヶ月ごと 指定日にち
    * nヶ月ごと 指定日にち ※対象月に指定日にちが存在しない場合は月末
    * nヶ月ごと 月末
    * nヶ月ごと m週目 指定曜日
    * nヶ月ごと 最終週 指定曜日
    * nヶ月ごと m回目の指定曜日
    * nヶ月ごと 最終の指定曜日
  * 年
    <!-- TODO -->
